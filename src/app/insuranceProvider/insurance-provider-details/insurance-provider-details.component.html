<mat-spinner *ngIf="!dataLoaded"></mat-spinner>
<div *ngIf="dataLoaded && insuranceProvider != null">
  <mat-card class="farmer-card">
    <mat-card-header>
      <div mat-card-avatar class="farmer-image">&nbsp;</div>
      <mat-card-title>{{ insuranceProvider.name }}</mat-card-title>
      <span class="spacer"></span>
      <ul>
        <li>
          <a *ngIf="mode !== 'ins-add'" color="primary" mat-button
          (click) = "launchAddPolicy()"
            >Add Insurance Policy</a
          >
        </li>
        <li>
          <a *ngIf="mode !== 'list'" color="primary" mat-button>View List</a>
        </li>
      </ul>

      <button mat-icon-button [matMenuTriggerFor]="menu">
        <mat-icon>more_vert</mat-icon>
      </button>
      <mat-menu #menu="matMenu">
        <button mat-menu-item>
          <!-- <mat-icon></mat-icon> -->
          <span>View Full Profile</span>
        </button>
        <button mat-menu-item (click)="onLogout()">
          <!-- <mat-icon></mat-icon> -->
          <span>Logout</span>
        </button>
      </mat-menu>
    </mat-card-header>
  </mat-card>

  <app-policy-list
    *ngIf="mode == 'list'"
    [insuranceProviderId]="insuranceProviderId" [listAll] = "false"
  ></app-policy-list>

  <app-policy-add *ngIf="mode == 'add'" (policyAdded) = "onPolicyAdded($event)"></app-policy-add>
</div>
