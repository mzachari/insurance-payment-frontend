<mat-horizontal-stepper [linear]="true" #stepper>
  <mat-step [stepControl]="firstFormGroup" optional="true">
    <form [formGroup]="firstFormGroup">
      <ng-template matStepLabel>Upload Insurance Plan Image</ng-template>
      <br />
      <button
        color="primary"
        mat-stroked-button
        type="button"
        (click)="filePicker.click()"
      >
        Choose Image
      </button>
      <input type="file" #filePicker (change)="onImagePicked($event)" />
    </form>
    <div
      class="image-preview"
      *ngIf="
        imagePreview && imagePreview !== '' && firstFormGroup.get('image').valid
      "
    >
      <img [src]="imagePreview" [alt]="firstFormGroup.value.title" />
      <div class="flex-container">
          <button style="margin-right:1rem"
          color="primary"
          mat-stroked-button
          type="button"
          (click)="onImageUpload()"
        >
          Upload
        </button>
        <input matInput type="text" [(ngModel)]="insuranceFileName" />
      </div>
    </div>
  </mat-step>
  <mat-step [stepControl]="secondFormGroup">
    <form [formGroup]="secondFormGroup">
      <ng-template matStepLabel>Verify your Details</ng-template>
      <mat-form-field>
        <input
          matInput
          placeholder="Address"
          formControlName="secondCtrl"
          required
        />
      </mat-form-field>
      <div>
        <button mat-button matStepperPrevious>Back</button>
        <button mat-button matStepperNext>Next</button>
      </div>
    </form>
  </mat-step>
  <mat-step>
    <ng-template matStepLabel>Confirm and Submit</ng-template>
    You are now done.
    <div>
      <button mat-button matStepperPrevious>Back</button>
      <button mat-button (click)="stepper.reset()">Reset</button>
    </div>
  </mat-step>
</mat-horizontal-stepper>
